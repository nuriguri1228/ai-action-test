# Scenario 2: Auto Bug Fix

## 개요
이 시나리오는 버그 이슈가 생성되면 AI가 자동으로 분석하고 수정하는 예제입니다.

## 테스트 방법

### 방법 1: GitHub CLI 사용

```bash
# 1. 버그 이슈 생성
gh issue create \
  --title "[BUG] 비밀번호 평문 저장 보안 취약점" \
  --body "@claude examples/scenario-2-auto-bug-fix/user-auth.js 파일에서 비밀번호를 평문으로 저장하고 있습니다.

  bcrypt를 사용하여 비밀번호를 안전하게 해싱하도록 수정하고,
  추가로 open redirect 취약점과 비밀번호 재설정 시 인증 부족 문제도 해결해주세요.

  수정 후 PR을 생성해주세요." \
  --label "bug"

# 2. AI가 자동으로 수정 작업 시작
# 3. 생성된 PR 확인
gh pr list
```

### 방법 2: GitHub 웹 UI 사용

1. **Issues 탭으로 이동**
2. **New Issue 클릭**
3. **제목**: `[BUG] 비밀번호 평문 저장 보안 취약점`
4. **본문**: BUG-REPORT.md의 내용 복사
5. **Labels**: `bug` 추가
6. **Submit** 클릭

## 포함된 버그들

`user-auth.js` 파일에는 다음과 같은 보안 취약점들이 있습니다:

1. **평문 비밀번호 저장** (Critical)
   - 비밀번호를 해싱 없이 저장
   - bcrypt, scrypt 등을 사용해야 함

2. **Open Redirect 취약점** (High)
   - login 메서드에서 redirectUrl 검증 없음
   - 피싱 공격에 악용될 수 있음

3. **인증 없는 비밀번호 재설정** (High)
   - 이메일 인증 없이 비밀번호 재설정 가능
   - 계정 탈취 위험

## AI가 수행할 작업

1. **버그 분석**
   - 코드 검토 및 보안 취약점 식별
   - 영향 범위 파악

2. **수정 코드 작성**
   - bcrypt 라이브러리 추가
   - 비밀번호 해싱 로직 구현
   - URL 검증 로직 추가
   - 이메일 인증 토큰 시스템 구현

3. **테스트 추가** (선택적)
   - 보안 관련 단위 테스트 작성

4. **PR 생성**
   - 수정 사항을 포함한 PR 자동 생성
   - 변경 내용 설명

## 기대 효과

- ⏱️ 버그 대응 시간 90% 단축
- 🤖 반복적인 보안 버그 즉시 해결
- 🌙 24/7 버그 모니터링 및 자동 수정
- 📊 일관된 품질의 버그 수정

## 다음 단계

1. 버그 이슈 생성
2. AI 수정 대기 (5-15분)
3. 생성된 PR 검토
4. PR 승인 및 병합
5. 배포
