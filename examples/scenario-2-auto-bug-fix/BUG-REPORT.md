# Bug Report Example

## 보안 취약점: 평문 비밀번호 저장

**심각도**: Critical 🔴

**설명**:
`user-auth.js` 파일에서 사용자 비밀번호를 평문으로 저장하고 있습니다. 이는 심각한 보안 취약점입니다.

**재현 단계**:
1. 새 사용자 등록
2. users Map을 확인하면 비밀번호가 평문으로 저장됨

**예상 동작**:
비밀번호는 bcrypt, scrypt 등의 해싱 알고리즘을 사용하여 안전하게 저장되어야 합니다.

**현재 동작**:
비밀번호가 평문으로 저장되어, 데이터베이스가 유출되면 모든 사용자의 비밀번호가 노출됩니다.

---

## 이 예제를 사용하는 방법

1. **버그 이슈 생성**:
   ```bash
   gh issue create \
     --title "[BUG] 비밀번호 평문 저장 보안 취약점" \
     --body "$(cat examples/scenario-2-auto-bug-fix/BUG-REPORT.md)" \
     --label "bug"
   ```

2. **자동 수정 대기**:
   - `workflow-example-2-auto-bug-fix.yml` 워크플로우가 자동으로 실행됩니다
   - AI가 코드를 분석하고 버그를 수정합니다
   - 수정된 코드로 PR이 자동 생성됩니다

3. **PR 검토 및 병합**:
   - AI가 생성한 PR을 검토합니다
   - 수정 사항이 적절하면 병합합니다

## 기대되는 수정사항

AI가 다음과 같은 수정을 수행해야 합니다:

1. bcrypt 등의 라이브러리를 사용하여 비밀번호 해싱 구현
2. 회원가입 시 비밀번호 해싱
3. 로그인 시 해시 비교
4. 비밀번호 재설정 시 이메일 인증 추가
5. Open redirect 취약점 수정 (redirectUrl 검증)

## 추가 버그들

이 파일에는 다음과 같은 추가 보안 이슈들도 포함되어 있습니다:

- **Open Redirect**: `login()` 메서드의 redirectUrl 검증 부족
- **인증 없는 비밀번호 재설정**: `resetPassword()`에 이메일 인증 없음
